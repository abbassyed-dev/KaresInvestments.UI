import{a as N}from"./chunk-UPXPSILX.js";import{a as y}from"./chunk-Y75KTKDP.js";import{a as k,b as S}from"./chunk-QDWHEA6R.js";import{Ab as E,C as O,D as p,Db as I,La as v,Mb as T,Nb as z,O as s,Ob as F,P as l,Wa as w,X as m,Xa as x,_a as P,aa as t,ba as o,ca as u,ga as f,jc as W,oa as a,sa as M,sb as b,ta as _,ua as C,ub as L,wa as h,x as d,zb as j}from"./chunk-3KISCWYG.js";var U=()=>["/forgotpassword"],Y=()=>["/register"],A=(()=>{class e{constructor(c,n,i,g,r,D){this.layoutService=c,this.loginService=n,this.cookieService=i,this.router=g,this.toastr=r,this.authStateService=D,this.email="",this.password="",this.rememberMe=!1}login(){let c={email:this.email,password:this.password};this.loginService.login(c).subscribe({next:n=>{this.cookieService.set("Authorization",`Bearer ${n.token}`,void 0,"/",void 0,!0,"Strict"),this.cookieService.set("RefreshToken",n.refreshToken),console.log(n),this.authStateService.setUser(n),n.isAdmin?this.router.navigate(["/dashboard/admin"]):this.router.navigate(["/dashboard/user"])},error:n=>{n?.message?this.toastr.error(n.message):this.toastr.error("An unexpected error occurred.","Error")}})}static{this.\u0275fac=function(n){return new(n||e)(l(y),l(N),l(k),l(w),l(b),l(S))}}static{this.\u0275cmp=O({type:e,selectors:[["app-login"]],decls:29,vars:7,consts:[[1,"login-container"],[1,"login-wrapper"],[1,"login-card-wrapper"],[1,"login-card"],[1,"card-title"],[1,"welcome-text"],[1,"form-group"],["for","email1",1,"form-label"],[1,"input-container"],[1,"pi","pi-envelope","input-icon"],["id","email1","type","email","placeholder","Enter your email","pInputText","",3,"ngModelChange","ngModel"],["for","password1",1,"form-label"],[1,"pi","pi-lock","input-icon"],["id","password1","placeholder","Enter your password","styleClass","password-input","inputStyleClass","p-password-input",3,"ngModelChange","keydown.enter","ngModel","toggleMask"],[1,"login-options"],[1,"forgot-link",3,"routerLink"],["pButton","","label","Sign In",1,"sign-in-button",3,"click"],[1,"sign-up-section"],[1,"sign-up-link",3,"routerLink"]],template:function(n,i){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),a(5,"Sign In"),o(),t(6,"p",5),a(7,"Welcome back! Please enter your credentials"),o(),t(8,"div",6)(9,"label",7),a(10,"Email"),o(),t(11,"div",8),u(12,"i",9),t(13,"input",10),C("ngModelChange",function(r){return _(i.email,r)||(i.email=r),r}),o()()(),t(14,"div",6)(15,"label",11),a(16,"Password"),o(),t(17,"div",8),u(18,"i",12),t(19,"p-password",13),C("ngModelChange",function(r){return _(i.password,r)||(i.password=r),r}),f("keydown.enter",function(){return i.login()}),o()()(),t(20,"div",14)(21,"a",15),a(22,"Forgot password?"),o()(),t(23,"button",16),f("click",function(){return i.login()}),o(),t(24,"div",17)(25,"span"),a(26,"Don't have an account?"),o(),t(27,"a",18),a(28,"Sign Up"),o()()()()()()),n&2&&(s(13),M("ngModel",i.email),s(6),M("ngModel",i.password),m("toggleMask",!0),s(2),m("routerLink",h(5,U)),s(6),m("routerLink",h(6,Y)))},dependencies:[x,j,E,I,L,z,F],styles:['.login-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f5f7fa,#e4e8eb);display:flex;align-items:center;justify-content:center;padding:2rem}.login-container[_ngcontent-%COMP%]   .login-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1200px;display:flex;justify-content:center}.login-container[_ngcontent-%COMP%]   .login-card-wrapper[_ngcontent-%COMP%]{width:100%;max-width:480px;box-shadow:0 12px 28px #0000001f;border-radius:16px;overflow:hidden;position:relative}.login-container[_ngcontent-%COMP%]   .login-card-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:8px;background:linear-gradient(90deg,var(--primary-color) 0%,var(--primary-color-dark, #0d47a1) 100%)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{background:#fff;padding:2.5rem;border-radius:16px;width:100%}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem;justify-content:center}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-placeholder[_ngcontent-%COMP%]{width:40px;height:40px;background-color:var(--primary-color);border-radius:8px;margin-right:12px}.login-container[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .company-name[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:var(--text-color);margin:0}.login-container[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--text-color-secondary);margin-bottom:.75rem;text-align:center}.login-container[_ngcontent-%COMP%]   .welcome-text[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:1rem;margin-bottom:2rem;text-align:center;opacity:.8}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:var(--text-color);font-size:.95rem}.login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative}.login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--text-color-secondary);opacity:.7}.login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 2.75rem;border-radius:8px;border:1px solid var(--surface-border, #ced4da);background-color:#fff;color:var(--text-color, #333333);transition:all .3s ease}.login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #2196f31a;background-color:#fff}.login-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--text-color-secondary, #6c757d);opacity:.6}.login-container[_ngcontent-%COMP%]     .password-input{width:100%}.login-container[_ngcontent-%COMP%]     .password-input   .p-password-input{width:100%;padding:1rem 1rem 1rem 2.75rem;border-radius:8px;background-color:#fff;color:var(--text-color, #333333)}.login-container[_ngcontent-%COMP%]     .password-input   .p-password-input::placeholder{color:var(--text-color-secondary, #6c757d);opacity:.6}.login-container[_ngcontent-%COMP%]     .password-input   .p-password-panel{background-color:#fff;border-color:var(--surface-border, #ced4da)}.login-container[_ngcontent-%COMP%]   .login-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.login-container[_ngcontent-%COMP%]   .login-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]{display:flex;align-items:center}.login-container[_ngcontent-%COMP%]   .login-options[_ngcontent-%COMP%]   .remember-me[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.9rem;color:var(--text-color-secondary)}.login-container[_ngcontent-%COMP%]   .login-options[_ngcontent-%COMP%]   .forgot-link[_ngcontent-%COMP%]{font-size:.9rem;color:var(--primary-color);text-decoration:none;font-weight:500;transition:color .2s}.login-container[_ngcontent-%COMP%]   .login-options[_ngcontent-%COMP%]   .forgot-link[_ngcontent-%COMP%]:hover{color:var(--primary-color-dark, #0d47a1);text-decoration:underline}.login-container[_ngcontent-%COMP%]   .sign-in-button[_ngcontent-%COMP%]{width:100%;padding:1rem;font-size:1rem;font-weight:600;border-radius:8px;background:linear-gradient(90deg,var(--primary-color) 0%,var(--primary-color-dark, #0d47a1) 100%);border:none;box-shadow:0 4px 12px #2196f34d;transition:all .3s ease;color:#fff}.login-container[_ngcontent-%COMP%]   .sign-in-button[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #2196f366;transform:translateY(-1px)}.login-container[_ngcontent-%COMP%]   .sign-up-section[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;font-size:.95rem;color:var(--text-color-secondary)}.login-container[_ngcontent-%COMP%]   .sign-up-section[_ngcontent-%COMP%]   .sign-up-link[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600;margin-left:.5rem;text-decoration:none}.login-container[_ngcontent-%COMP%]   .sign-up-section[_ngcontent-%COMP%]   .sign-up-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media screen and (max-width: 576px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{padding:1.5rem}}']})}}return e})();var B=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=d({imports:[P.forChild([{path:"",component:A}]),P]})}}return e})();var dn=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=p({type:e})}static{this.\u0275inj=d({imports:[v,B,T,W]})}}return e})();export{dn as LoginModule};

import{Ea as g,K as p,Ma as h,g as m,w as l,z as u}from"./chunk-3KISCWYG.js";var I=(()=>{class o{constructor(e,t){this.document=e,this.platformId=t,this.documentIsAccessible=h(this.platformId)}static getCookieRegExp(e){let t=e.replace(/([\[\]{}()|=;+?,.*^$])/gi,"\\$1");return new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch{return e}}check(e){return this.documentIsAccessible?(e=encodeURIComponent(e),o.getCookieRegExp(e).test(this.document.cookie)):!1}get(e){if(this.documentIsAccessible&&this.check(e)){e=encodeURIComponent(e);let s=o.getCookieRegExp(e).exec(this.document.cookie);return s[1]?o.safeDecodeURIComponent(s[1]):""}else return""}getAll(){if(!this.documentIsAccessible)return{};let e={},t=this.document;return t.cookie&&t.cookie!==""&&t.cookie.split(";").forEach(s=>{let[i,n]=s.split("=");e[o.safeDecodeURIComponent(i.replace(/^ /,""))]=o.safeDecodeURIComponent(n)}),e}set(e,t,s,i,n,a,d,D){if(!this.documentIsAccessible)return;if(typeof s=="number"||s instanceof Date||i||n||a||d){let f={expires:s,path:i,domain:n,secure:a,sameSite:d||"Lax",partitioned:D};this.set(e,t,f);return}let c=encodeURIComponent(e)+"="+encodeURIComponent(t)+";",r=s||{};if(r.expires)if(typeof r.expires=="number"){let f=new Date(new Date().getTime()+r.expires*1e3*60*60*24);c+="expires="+f.toUTCString()+";"}else c+="expires="+r.expires.toUTCString()+";";r.path&&(c+="path="+r.path+";"),r.domain&&(c+="domain="+r.domain+";"),r.secure===!1&&r.sameSite==="None"&&(r.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${e} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),r.secure&&(c+="secure;"),r.sameSite||(r.sameSite="Lax"),c+="sameSite="+r.sameSite+";",r.partitioned&&(c+="Partitioned;"),this.document.cookie=c}delete(e,t,s,i,n="Lax"){if(!this.documentIsAccessible)return;let a=new Date("Thu, 01 Jan 1970 00:00:01 GMT");this.set(e,"",{expires:a,path:t,domain:s,secure:i,sameSite:n})}deleteAll(e,t,s,i="Lax"){if(!this.documentIsAccessible)return;let n=this.getAll();for(let a in n)n.hasOwnProperty(a)&&this.delete(a,e,t,s,i)}static{this.\u0275fac=function(t){return new(t||o)(u(g),u(p))}}static{this.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var w=(()=>{class o{constructor(e){this.cookieService=e,this.$user=new m(void 0)}setUser(e){this.$user.next(e),localStorage.setItem("userDetails",JSON.stringify(e))}user(){return this.$user.asObservable()}getUser(){let e=localStorage.getItem("userDetails");if(e)return JSON.parse(e)}logout(){localStorage.clear(),this.cookieService.delete("Authorization","/"),this.$user.next(void 0)}getLoggedInUserEmailId(){let e=localStorage.getItem("userDetails");if(e)return JSON.parse(e).email}getLoggedInUserFullName(){let e=localStorage.getItem("userDetails");if(e){let t=JSON.parse(e);return t.lastName+" "+t.firstName}}getLoggedInUserUserId(){let e=localStorage.getItem("userDetails");if(e)return JSON.parse(e).userId}getLoggedInUserProperty(e){let t=localStorage.getItem("userDetails");if(t)return JSON.parse(t)[e]}updateUserName(e,t){let s=localStorage.getItem("userDetails");if(s){let i=JSON.parse(s);i.firstName=e,i.lastName=t,this.setUser(i),console.log("Updated")}}static{this.\u0275fac=function(t){return new(t||o)(u(I))}}static{this.\u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();export{I as a,w as b};

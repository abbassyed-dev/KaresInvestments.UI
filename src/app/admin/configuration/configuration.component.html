<div class="p-grid">
    <div class="p-col-12 p-md-6">
        <label class="input-label" for="userContext">Select a Table:</label>
        <p-dropdown [options]="tables" [(ngModel)]="selectedTable" (onChange)="loadTableData()"
            placeholder="Select a Table">
        </p-dropdown>
    </div>
</div>

<p-table [value]="records" [paginator]="true" [rows]="5" responsiveLayout="scroll">
    <ng-template pTemplate="header">
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Actions</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-record>
        <tr>
            <td>{{ record.id }}</td>
            <td>{{ record.name }}</td>
            <td>
                <button pButton icon="pi pi-pencil" (click)="editRecord(record)"
                    class="p-button-sm p-button-text"></button>
                <button pButton icon="pi pi-trash" (click)="confirmDelete(record)"
                    class="p-button-sm p-button-danger"></button>
            </td>
        </tr>
    </ng-template>
</p-table>

<button pButton label="Add New" icon="pi pi-plus" (click)="openNew()"></button>

<p-dialog [(visible)]="showDialog" [modal]="true" header="Manage Record">
    <div class="p-fluid">
        <div class="p-field">
            <label for="name">Name</label>
            <input id="name" type="text" pInputText [(ngModel)]="record.name" />
        </div>
    </div>
    <p-footer>
        <button pButton label="Cancel" icon="pi pi-times" (click)="showDialog=false"></button>
        <button pButton label="Save" icon="pi pi-check" (click)="saveRecord()" class="p-button-success"></button>
    </p-footer>
</p-dialog>